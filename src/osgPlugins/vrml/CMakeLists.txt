INCLUDE_DIRECTORIES(${OPENVRML_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${OPENVRML_INCLUDE_DIR}/openvrml)

IF (WIN32)
    INCLUDE_DIRECTORIES(${JPEG_INCLUDE_DIR})
    INCLUDE_DIRECTORIES(${PNG_INCLUDE_DIR})
    INCLUDE_DIRECTORIES(${ZLIB_INCLUDE_DIR})

    FIND_LIBRARY(OPENVRML_ANTLR_LIBRARY
        NAMES antlr.lib
        PATHS $ENV{OPENVRML_DIR}/lib)
    FIND_LIBRARY(OPENVRML_ANTLR_LIBRARY_DEBUG
        NAMES antlrd.lib
        PATHS $ENV{OPENVRML_DIR}/lib)
    FIND_LIBRARY(OPENVRML_REGEX_LIBRARY
        NAMES regex.lib
        PATHS $ENV{OPENVRML_DIR}/lib)
    FIND_LIBRARY(OPENVRML_REGEX_LIBRARY_DEBUG
        NAMES regexd.lib
        PATHS $ENV{OPENVRML_DIR}/lib)
    
    SET(TARGET_LIBRARIES_VARS
        OPENVRML_ANTLR_LIBRARY
        OPENVRML_REGEX_LIBRARY
        OPENVRML_LIBRARY
        JPEG_LIBRARY
        PNG_LIBRARY
        ZLIB_LIBRARIES)
    SET(TARGET_EXTERNAL_LIBRARIES
        Ws2_32.lib)
ELSE()
    SET(TARGET_LIBRARIES_VARS
        OPENVRML_LIBRARY)
ENDIF()

SET(TARGET_SRC 
    IndexedFaceSet.cpp
    Primitives.cpp
    ReaderWriterVRML2.cpp 
    ConvertToVRML.cpp
)

SET(TARGET_H
    ReaderWriterVRML2.h
    ConvertToVRML.h
)

#### end var setup  ###
SETUP_PLUGIN(vrml vrml)
